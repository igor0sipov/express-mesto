{"version":3,"sources":["images/logo_white.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","images/edit-avatar-icon.svg","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/constants.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteConfirmPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","src","mestoLogo","alt","CurrentUserContext","React","createContext","Card","props","isOwn","card","owner","_id","currentUser","isLiked","likes","some","like","onClick","onDeleteClick","link","onCardClick","name","onCardLike","length","Main","user","useContext","avatar","onEditAvatar","editAvatarIconPath","about","onEditProfile","onAddPlace","cards","map","onLikeClick","Footer","ImagePopup","isOpened","onOverlay","type","onClose","api","config","this","_token","token","_userProfileUrl","userProfileUrl","_cardsUrl","cardsUrl","result","ok","Promise","reject","status","fetch","headers","authorization","then","_handleOriginalResponse","data","json","method","body","JSON","stringify","id","PopupWithForm","onSubmit","noValidate","title","children","isValid","buttonText","EditProfilePopup","useState","value","setName","isvalid","description","setDescription","isFormValid","setIsFormValid","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","onChange","target","validity","valid","validationMessage","EditAvatarPopup","avatarInputRef","useRef","setAvatar","onUpdateAvatar","current","ref","AddPlacePopup","setLink","DeleteConfirmPopup","deleteCard","App","handleError","error","console","log","saveText","savingText","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpened","setIsImagePopupOpened","isDeletePopupOpened","setIsDeletePopupOpened","selectedCard","setSelectedCard","addPlace","editProfile","editAvatar","confirmDelete","setButtonText","setDeleteCard","setCards","closeAllPopups","escClosing","keyCode","handleOverlayClick","currentTarget","all","getUserInfo","getCards","userInfo","catch","document","addEventListener","removeEventListener","Provider","getNewCards","newCard","newCards","c","removeLike","newProfileInfo","addCard","updateAvatar","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9d3659ad.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_white.8724261e.svg\";","import mestoLogo from \"../images/logo_white.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header header_spaced\">\r\n      <a href=\"#\">\r\n        <img src={mestoLogo} alt=\"Лого сайта\" className=\"header__logo\" />\r\n      </a>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","function Card(props) {\r\n  const isOwn = props.card.owner._id === props.currentUser._id;\r\n  const isLiked = props.card.likes.some(\r\n    (like) => like._id === props.currentUser._id\r\n  );\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card, isLiked);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onDeleteClick(props.card);\r\n  }\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button\r\n        className={`element__delete-button ${\r\n          isOwn ? \"\" : `element__delete-button_hidden`\r\n        }`}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <img\r\n        src={props.card.link}\r\n        alt=\"#\"\r\n        className=\"element__picture\"\r\n        onClick={handleClick}\r\n      />\r\n      <h2 className=\"element__name\">{props.card.name}</h2>\r\n      <figure className=\"element__like\">\r\n        <button\r\n          className={`element__like-button ${\r\n            isLiked ? `element__like-button_active` : \"\"\r\n          }`}\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <figcaption className=\"element__like-counter\">\r\n          {props.card.likes.length}\r\n        </figcaption>\r\n      </figure>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/edit-avatar-icon.ae1a976d.svg\";","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\nimport editAvatarIconPath from \"../images/edit-avatar-icon.svg\";\r\n\r\nfunction Main(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main sizer\">\r\n      <section className=\"profile profile_spaced sizer\">\r\n        <div className=\"profile__avatar-wrapper\">\r\n          <img\r\n            src={user.avatar}\r\n            alt=\"User Avatar\"\r\n            className=\"profile__avatar\"\r\n          />\r\n          <button\r\n            className=\"profile__edit-avatar-button\"\r\n            onClick={props.onEditAvatar}\r\n          >\r\n            <img\r\n              src={editAvatarIconPath}\r\n              alt=\"\"\r\n              className=\"profile__edit-avatar-icon\"\r\n            />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{user.name}</h1>\r\n          <p className=\"profile__bio\">{user.about}</p>\r\n          <button\r\n            className=\"profile__edit-button\"\r\n            onClick={props.onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <ul className=\"elements\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onDeleteClick={props.onDeleteClick}\r\n              onCardLike={props.onLikeClick}\r\n              currentUser={user}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer sizer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup fullsize-picture ${props.isOpened && `popup_opened`}`}\r\n      onClick={props.onOverlay}\r\n    >\r\n      <figure className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-icon\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"popup__picture\"\r\n        />\r\n        <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\r\n      </figure>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import { apiConfig } from \"./constants\";\r\n\r\nclass Api {\r\n  constructor(config) {\r\n    this._token = config.token;\r\n    this._userProfileUrl = config.userProfileUrl;\r\n    this._cardsUrl = config.cardsUrl;\r\n  }\r\n\r\n  _handleOriginalResponse(result) {\r\n    if (!result.ok) {\r\n      return Promise.reject(`Ошибка: ${result.status}`);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._userProfileUrl, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._handleOriginalResponse)\r\n      .then((data) => {\r\n        return data.json();\r\n      });\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(this._cardsUrl, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._handleOriginalResponse)\r\n      .then((data) => {\r\n        return data.json();\r\n      });\r\n  }\r\n\r\n  editProfile({ name, about }) {\r\n    return fetch(this._userProfileUrl, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    })\r\n      .then(this._handleOriginalResponse)\r\n      .then((data) => {\r\n        return data.json();\r\n      });\r\n  }\r\n\r\n  addCard({ name, link }) {\r\n    return fetch(this._cardsUrl, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    })\r\n      .then(this._handleOriginalResponse)\r\n      .then((data) => {\r\n        return data.json();\r\n      });\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(this._cardsUrl + id, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._handleOriginalResponse)\r\n      .then((data) => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  like(id) {\r\n    return fetch(this._cardsUrl + \"likes/\" + id, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._handleOriginalResponse)\r\n      .then((data) => {\r\n        return data.json();\r\n      });\r\n  }\r\n\r\n  removeLike(id) {\r\n    return fetch(this._cardsUrl + \"likes/\" + id, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._handleOriginalResponse)\r\n      .then((data) => {\r\n        return data.json();\r\n      });\r\n  }\r\n\r\n  updateAvatar(avatar) {\r\n    return fetch(this._userProfileUrl + \"avatar/\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    })\r\n      .then(this._handleOriginalResponse)\r\n      .then((data) => {\r\n        return data.json();\r\n      });\r\n  }\r\n}\r\n\r\nconst api = new Api(apiConfig);\r\nexport default api;\r\n","export const myId = \"86dbbabbe99c68a05ddfc98c\";\r\n\r\nexport const apiConfig = {\r\n  token: \"fe948c7b-c7fe-4065-b9c1-1b820e5df7d7\",\r\n  userProfileUrl: \"https://mesto.nomoreparties.co/v1/cohort-17/users/me/\",\r\n  cardsUrl: \"https://mesto.nomoreparties.co/v1/cohort-17/cards/\",\r\n};\r\n\r\nexport const validationSelectors = {\r\n  form: \".form\",\r\n  input: \".popup__input\",\r\n  submitButton: \".popup__submit-button\",\r\n  inactiveButton: \"popup__submit-button_disabled\",\r\n  inputError: \"popup__input_type_error\",\r\n  errorVisible: \"popup__input-error_visible\",\r\n};\r\n\r\nexport const cardSelectors = {\r\n  cardTemplate: \".card-template\",\r\n  card: \".element\",\r\n  picture: \".element__picture\",\r\n  title: \".element__name\",\r\n  likeButton: \".element__like-button\",\r\n  likeButtonActive: \"element__like-button_active\",\r\n  deleteButton: \".element__delete-button\",\r\n  hiddenDeleteButton: \"element__delete-button_hidden\",\r\n  likeCounter: \".element__like-counter\",\r\n};\r\n\r\nexport const popupSelectors = {\r\n  openedPopup: \"popup_opened\",\r\n  form: \".form\",\r\n  closeButton: \".popup__close-icon\",\r\n  title: \"popup__title\",\r\n  picture: \".popup__picture\",\r\n  input: \".popup__input\",\r\n  submitButton: \".popup__submit-button\",\r\n  caption: \".popup__caption\",\r\n};\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${props.name} ${\r\n        props.isOpened && `popup_opened`\r\n      }`}\r\n      onClick={props.onOverlay}\r\n    >\r\n      <form\r\n        className=\"popup__container form\"\r\n        name={props.name}\r\n        onSubmit={props.onSubmit}\r\n        noValidate\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-icon\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h3 className=\"popup__title\">{props.title}</h3>\r\n        {props.children}\r\n        <button\r\n          type=\"submit\"\r\n          className={`popup__submit-button ${\r\n            props.isValid ? \"\" : `popup__submit-button_disabled`\r\n          }`}\r\n        >\r\n          {props.buttonText}\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState({ value: user.name, isValid: true });\r\n  const [description, setDescription] = React.useState({\r\n    value: user.about,\r\n    isvalid: true,\r\n  });\r\n  const [isFormValid, setIsFormValid] = React.useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name.value,\r\n      about: description.value,\r\n    });\r\n  }\r\n\r\n  function handleNameChange(e) {\r\n    setName({\r\n      value: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription({\r\n      value: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName({ value: user.name, isValid: true });\r\n    setDescription({ value: user.about, isValid: true });\r\n  }, [user]);\r\n\r\n  React.useEffect(() => {\r\n    if (name.isValid && description.isValid) {\r\n      setIsFormValid(true);\r\n    } else {\r\n      setIsFormValid(false);\r\n    }\r\n  }, [name.isValid, description.isValid]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"editProfile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      buttonText={props.buttonText}\r\n      onSubmit={handleSubmit}\r\n      isValid={isFormValid}\r\n      onOverlay={props.onOverlay}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        id=\"form-name\"\r\n        name=\"name\"\r\n        placeholder=\"Имя\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        value={name.value}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span\r\n        className={`popup__input-error form-name-error ${\r\n          name.isValid ? `` : `popup__input-error_visible`\r\n        }`}\r\n      >\r\n        {name.validationMessage}\r\n      </span>\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        id=\"form-bio\"\r\n        name=\"bio\"\r\n        placeholder=\"О себе\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        value={description.value}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span\r\n        className={`popup__input-error form-name-error ${\r\n          description.isValid ? `` : `popup__input-error_visible`\r\n        }`}\r\n      >\r\n        {description.validationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarInputRef = React.useRef();\r\n  const [avatar, setAvatar] = React.useState({ value: \"\" });\r\n  const [isFormValid, setIsFormValid] = React.useState(false);\r\n\r\n  function handleClick(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar(avatarInputRef.current.value);\r\n  }\r\n\r\n  function handleChange(e) {\r\n    setAvatar({\r\n      value: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (avatar.isValid) {\r\n      setIsFormValid(true);\r\n    } else {\r\n      setIsFormValid(false);\r\n    }\r\n  }, [avatar.isValid]);\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpened) {\r\n      setAvatar({ value: \"\" });\r\n    }\r\n  }, [props.isOpened]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"updateAvatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      buttonText={props.buttonText}\r\n      onSubmit={handleClick}\r\n      isValid={isFormValid}\r\n      onOverlay={props.onOverlay}\r\n    >\r\n      <input\r\n        ref={avatarInputRef}\r\n        type=\"url\"\r\n        className=\"popup__input\"\r\n        id=\"form-avatar\"\r\n        name=\"avatar\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        value={avatar.value}\r\n        onChange={handleChange}\r\n      />\r\n      <span\r\n        className={`popup__input-error form-avatar-error ${\r\n          avatar.isValid ? `` : `popup__input-error_visible`\r\n        }`}\r\n      >\r\n        {avatar.validationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState({ value: \"\" });\r\n  const [link, setLink] = React.useState({ value: \"\" });\r\n  const [isFormValid, setIsFormValid] = React.useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit({ name: name.value, link: link.value });\r\n  }\r\n  function handleNameChange(e) {\r\n    setName({\r\n      value: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink({\r\n      value: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (name.isValid && link.isValid) {\r\n      setIsFormValid(true);\r\n    } else {\r\n      setIsFormValid(false);\r\n    }\r\n  }, [name.isValid, link.isValid]);\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpened) {\r\n      setName({ value: \"\" });\r\n      setLink({ value: \"\" });\r\n    }\r\n  }, [props.isOpened]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"addPlace\"\r\n      title=\"Новое место\"\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      buttonText={props.buttonText}\r\n      onSubmit={handleSubmit}\r\n      isValid={isFormValid}\r\n      onOverlay={props.onOverlay}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        id=\"form-title\"\r\n        name=\"title\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n        value={name.value}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span\r\n        className={`popup__input-error form-title-error ${\r\n          name.isValid ? `` : `popup__input-error_visible`\r\n        }`}\r\n      >\r\n        {name.validationMessage}\r\n      </span>\r\n      <input\r\n        type=\"url\"\r\n        className=\"popup__input\"\r\n        id=\"form-url\"\r\n        name=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        value={link.value}\r\n        onChange={handleLinkChange}\r\n      />\r\n      <span\r\n        className={`popup__input-error form-url-error ${\r\n          link.isValid ? `` : `popup__input-error_visible`\r\n        }`}\r\n      >\r\n        {link.validationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeleteConfirmPopup(props) {\r\n  function submitDelete(e) {\r\n    e.preventDefault();\r\n    props.onSubmit(props.deleteCard);\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"confirmDelete\"\r\n      title=\"Вы уверены?\"\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      buttonText={props.buttonText}\r\n      onOverlay={props.onOverlay}\r\n      isValid={true}\r\n      onSubmit={submitDelete}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeleteConfirmPopup;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport DeleteConfirmPopup from \"./DeleteConfirmPopup\";\r\n\r\nfunction App() {\r\n  //============================================constants================================================\r\n\r\n  function handleError(error) {\r\n    console.log(error);\r\n  }\r\n\r\n  const saveText = \"Сохранить\";\r\n  const savingText = \"Сохранение...\";\r\n  const yesText = \"Да\";\r\n  const deletionText = \"Удаление...\";\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: \"User Name\",\r\n    about: \"User Bio\",\r\n  });\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isImagePopupOpened, setIsImagePopupOpened] = React.useState(false);\r\n  const [isDeletePopupOpened, setIsDeletePopupOpened] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [buttonText, setButtonText] = React.useState({\r\n    addPlace: saveText,\r\n    editProfile: saveText,\r\n    editAvatar: saveText,\r\n    confirmDelete: yesText,\r\n  });\r\n  const [deleteCard, setDeleteCard] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n      .then(([userInfo, cards]) => {\r\n        setCurrentUser(userInfo);\r\n        setCards(cards);\r\n      })\r\n      .catch(handleError);\r\n  }, []);\r\n\r\n  //===========================================profile========================================\r\n  function handleUpdateUser({ name, about }) {\r\n    setButtonText({ ...buttonText, editProfile: savingText });\r\n    api\r\n      .editProfile({ name, about })\r\n      .then((newProfileInfo) => {\r\n        setCurrentUser(newProfileInfo);\r\n        setButtonText({ ...buttonText, editProfile: saveText });\r\n        closeAllPopups();\r\n      })\r\n      .catch(handleError);\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setButtonText({ ...buttonText, editAvatar: savingText });\r\n    api\r\n      .updateAvatar(avatar)\r\n      .then((newProfileInfo) => {\r\n        setCurrentUser(newProfileInfo);\r\n        setButtonText({ ...buttonText, editAvatar: saveText });\r\n        closeAllPopups();\r\n      })\r\n      .catch(handleError);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  //===========================================popups========================================\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsImagePopupOpened(false);\r\n    setIsDeletePopupOpened(false);\r\n  }\r\n\r\n  function escClosing(e) {\r\n    if (e.keyCode === 27) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    document.addEventListener(\"keydown\", escClosing);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", escClosing);\r\n    };\r\n  }, []);\r\n\r\n  function handleOverlayClick(e) {\r\n    if (e.target !== e.currentTarget) {\r\n      return;\r\n    }\r\n    closeAllPopups();\r\n  }\r\n\r\n  //===========================================cards========================================\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpened(true);\r\n  }\r\n\r\n  function handleCardLike(card, isLiked) {\r\n    function getNewCards(newCard) {\r\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    }\r\n\r\n    if (isLiked) {\r\n      api.removeLike(card._id).then(getNewCards).catch(handleError);\r\n    } else {\r\n      api.like(card._id).then(getNewCards).catch(handleError);\r\n    }\r\n  }\r\n\r\n  function handleDeleteButtonClick(card) {\r\n    setIsDeletePopupOpened(true);\r\n    setDeleteCard(card);\r\n  }\r\n\r\n  function handleDelteCard(card) {\r\n    setButtonText({ ...buttonText, confirmDelete: deletionText });\r\n    api\r\n      .deleteCard(card._id)\r\n      .then((result) => {\r\n        if (result.ok) {\r\n          const newCards = cards.filter((c) => c._id !== card._id);\r\n          setCards(newCards);\r\n        } else {\r\n          console.log(\"Ошибка: \", result.status);\r\n        }\r\n        setButtonText({ ...buttonText, confirmDelete: yesText });\r\n        closeAllPopups();\r\n      })\r\n      .catch(handleError);\r\n  }\r\n\r\n  function handleAddCard({ name, link }) {\r\n    setButtonText({ ...buttonText, addPlace: savingText });\r\n    api\r\n      .addCard({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        setButtonText({ ...buttonText, addPlace: saveText });\r\n        closeAllPopups();\r\n      })\r\n      .catch(handleError);\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header />\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onLikeClick={handleCardLike}\r\n          onDeleteClick={handleDeleteButtonClick}\r\n        />\r\n        <Footer />\r\n\r\n        <EditProfilePopup\r\n          isOpened={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          buttonText={buttonText.editProfile}\r\n          onOverlay={handleOverlayClick}\r\n          escClosing={escClosing}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpened={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onSubmit={handleAddCard}\r\n          buttonText={buttonText.addPlace}\r\n          onOverlay={handleOverlayClick}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpened={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          buttonText={buttonText.editAvatar}\r\n          onOverlay={handleOverlayClick}\r\n        />\r\n        <DeleteConfirmPopup\r\n          isOpened={isDeletePopupOpened}\r\n          onClose={closeAllPopups}\r\n          buttonText={buttonText.confirmDelete}\r\n          onOverlay={handleOverlayClick}\r\n          onSubmit={handleDelteCard}\r\n          deleteCard={deleteCard}\r\n        />\r\n\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpened={isImagePopupOpened}\r\n          onClose={closeAllPopups}\r\n          onOverlay={handleOverlayClick}\r\n        />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}